# 使用说明（供每次与 agent 交互前粘贴）
> 注：建议先阅读 `agent/README.md` 获取索引与推荐阅读顺序。

说明：在与 agent 开始工作前，请按以下流程将本内容粘贴给 agent，保证统一的工作上下文和高效沟通。

1. 阅读顺序（必读）
   - 先阅读：`prompt.md`
   - 再阅读：`agent/requirements.md`
   - 然后：`agent/architecture.md`
   - 最后：`agent/api_reference.md` 与 `USAGE_GUIDE.md`

2. 开始任务前的最小上下文（必须提供）
   - 当前工作区根路径：`D:\Desktop\Julia\PNJL_Physics_Simulation`
   - 活动文件路径（agent 可直接访问的文件）： `PNJL_Physics_Simulation\src\core`
   - 目标操作（明确一句话描述要做什么）：“目前项目文件耦合、无用部分较多，需要整理，分析项目文件，先分析公共部分core文件夹下的文件”
   - 是否允许执行 git 操作（add/commit/push）：`no`
   - 涉及的数值/物理公式：`src/models/pnjl_aniso/omega_formulas.md`

3. agent 在开始前必须做的分析（由 agent 完成并汇报）
   - 列出完成任务需要的所有关键信息项
   - 标记用户未提供的必要信息并以短问题形式逐项询问
   - 列出受影响的文件与依赖（agent 自动扫描并列出）
   - 提出最小可行测试（smoke test）与预期结果

4. 交互式信息收集规范（当 agent 发现缺失信息时）
   - 只提出必要的问题，按优先级排序
   - 每轮只询问一类缺失信息（避免一次性大量问题）
   - 在用户补充后，复述收到的信息并说明下一步动作

5. 输出与提交规范
   - 对于代码变更：返回包含文件路径的补丁（或完整文件内容），并给出简短说明
   - 对于测试：说明如何在 Windows PowerShell 中运行（示例命令）
   - 如果执行 git 提交：提供提交摘要与变更文件列表；如需 push，须得到明确授权

6. 安全与风格要求
   - 所有注释与提交信息使用中文（专有名词可保留英文）
   - 遵循项目 `prompt.md` 中的架构与接口规范
   - 保持单一职责原则：每个 core 文件只负责单一功能

7. 常用快速提示（可直接粘贴给 agent）
   - “先扫描并列出所有使用 ForwardDiff 的调用点。”
   - “只替换 compute_gradient/compute_temperature_derivative/compute_chemical_potential_derivatives 的调用。”
   - “创建并运行轻量单元测试，路径：test/test_automatic_differentiation_quick.jl。”

复制以上内容给 agent 即可开始一次规范化的工作请求